<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
<h:head>
    <title>STUDENTEN DETAIL</title>
</h:head>
<f:metadata>
    <f:viewParam name="nameId" value="#{userDetailBean.username}" required="false"/>
    <f:event type="preRenderComponent" listener="#{userDetailBean.loadUser()}"/>
</f:metadata>
<h:head>
    <title>Users</title>

    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js" type="javascript"/>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" type="javascript"/>
</h:head>
<h:body class="container">
    <div class="row">
        <div class="col-md-8 col-sm-12">
            <div class="panel panel-default">
                <div class="panel-heading">Users</div>
                <div class="panel-body">

                    <h:form>
                        <h:outputLink value="index.xhtml" class="btn btn-primary">
                            Back to users
                        </h:outputLink>
                    </h:form>

                    <h:panelGrid columns="2">
                        <h:outputLabel value="Username:"/>
                        <h:outputLabel value="#{userDetailBean.user.username}"/>
                        <h:outputLabel value="Password:"/>
                        <h:outputLabel value="#{userDetailBean.user.password}"/>
                        <h:outputLabel value="Bio:"/>
                        <h:outputLabel value="#{userDetailBean.user.bio}"/>
                        <h:outputLabel value="Salt:"/>
                        <h:outputLabel value="#{userDetailBean.user.salt}"/>
                    </h:panelGrid>

                    <hr/>

                    <h:panelGroup id="tweets">
                        <h:form class="well">
                            <h:dataTable class="table" value="#{userDetailBean.user.tweets}" var="tweet">
                                <h:column>
                                    <f:facet name="header">TweetID</f:facet>
                                    <h:outputLabel value="#{tweet.id}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">Tweets</f:facet>
                                    <h:outputLabel value="#{tweet.tweetContent}"/>
                                </h:column>
                                <h:column>
                                    <h:commandLink class="btn btn-danger" value="Remove" action="#{userDetailBean.removeTweet(tweet.id)}">
                                        <f:ajax event="action" render="tweets"/>
                                    </h:commandLink>
                                </h:column>

                                <h:column>
                                    <h:commandLink class="btn btn-danger" value="TEST" action="#{userDetailBean.testMethod()}">
                                        <f:ajax event="action" render="tweets"/>
                                    </h:commandLink>
                                </h:column>

                            </h:dataTable>
                            <h:messages globalOnly="false"/>
                        </h:form>
                    </h:panelGroup>

                </div>
            </div>
        </div>
    </div>
</h:body>
</html>

